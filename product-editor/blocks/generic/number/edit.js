"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Edit=void 0;const element_1=require("@wordpress/element"),block_templates_1=require("@woocommerce/block-templates"),i18n_1=require("@wordpress/i18n"),use_product_entity_prop_1=__importDefault(require("../../../hooks/use-product-entity-prop")),validation_context_1=require("../../../contexts/validation-context"),number_control_1=require("../../../components/number-control"),use_product_edits_1=require("../../../hooks/use-product-edits");function Edit({attributes,context:{postType}}){const blockProps=(0,block_templates_1.useWooBlockProps)(attributes),{label,property,suffix,placeholder,help,min,max,required,tooltip,disabled,step}=attributes,[value,setValue]=(0,use_product_entity_prop_1.default)(property,{postType,fallbackValue:""}),{hasEdit}=(0,use_product_edits_1.useProductEdits)(),{error,validate}=(0,validation_context_1.useValidation)(property,(async function validator(){return"number"==typeof min&&value&&parseFloat(value)<min?{message:(0,i18n_1.sprintf)((0,i18n_1.__)("Value must be greater than or equal to %d","woocommerce"),min)}:"number"==typeof max&&value&&parseFloat(value)>max?{message:(0,i18n_1.sprintf)((0,i18n_1.__)("Value must be less than or equal to %d","woocommerce"),min)}:required&&!value?{message:(0,i18n_1.__)("This field is required.","woocommerce")}:void 0}),[value]);return(0,element_1.createElement)("div",{...blockProps},(0,element_1.createElement)(number_control_1.NumberControl,{label,onChange:setValue,value:value||"",help,suffix,placeholder,error,onBlur:()=>{hasEdit(property)&&validate()},required,tooltip,disabled,step,min,max}))}exports.Edit=Edit;