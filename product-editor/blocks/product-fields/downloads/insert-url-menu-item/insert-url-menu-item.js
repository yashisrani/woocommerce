"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InsertUrlMenuItem=void 0;const element_1=require("@wordpress/element"),i18n_1=require("@wordpress/i18n"),icons_1=require("@wordpress/icons"),components_1=require("@wordpress/components");function validateInput(input){input.required=!0,input.setCustomValidity(""),input.validity.valueMissing&&input.setCustomValidity((0,i18n_1.__)("The URL is required","woocommerce")),input.validity.typeMismatch&&input.setCustomValidity((0,i18n_1.__)("Insert a valid URL","woocommerce"))}function InsertUrlMenuItem({onLinkSuccess,onLinkError}){function handleSubmit(event){event.preventDefault();const form=event.currentTarget,urlInput=form.url;if(validateInput(urlInput),form.checkValidity()){const url=form.url.value;onLinkSuccess([{url}])}else onLinkError(urlInput.validationMessage)}function handleInput(event){validateInput(event.target)}function handleBlur(event){validateInput(event.target)}return(0,element_1.createElement)(components_1.Dropdown,{popoverProps:{placement:"left"},renderToggle:({isOpen,onToggle})=>(0,element_1.createElement)(components_1.MenuItem,{"aria-expanded":isOpen,icon:icons_1.customLink,iconPosition:"left",onClick:onToggle,info:(0,i18n_1.__)("Link to a file hosted elsewhere","woocommerce")},(0,i18n_1.__)("Insert from URL","woocommerce")),renderContent:()=>(0,element_1.createElement)("form",{className:"components-dropdown-menu__menu",noValidate:!0,onSubmit:handleSubmit},(0,element_1.createElement)(components_1.__experimentalInputControl,{name:"url",type:"url",placeholder:(0,i18n_1.__)("Insert URL","woocommerce"),suffix:(0,element_1.createElement)(components_1.Button,{icon:icons_1.keyboardReturn,type:"submit"}),className:"woocommerce-inert-url-menu-item__input","aria-label":(0,i18n_1.__)("Insert URL","woocommerce"),onInput:handleInput,onBlur:handleBlur}))})}exports.InsertUrlMenuItem=InsertUrlMenuItem;