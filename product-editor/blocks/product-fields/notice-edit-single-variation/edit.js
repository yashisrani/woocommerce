"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Edit=void 0;const element_1=require("@wordpress/element"),data_1=require("@wordpress/data"),block_templates_1=require("@woocommerce/block-templates"),tracks_1=require("@woocommerce/tracks"),components_1=require("@woocommerce/components"),navigation_1=require("@woocommerce/navigation"),core_data_1=require("@wordpress/core-data"),notice_1=require("../../../components/notice"),use_notice_1=require("../../../hooks/use-notice");function Edit({attributes}){const blockProps=(0,block_templates_1.useWooBlockProps)(attributes),{content,isDismissible,title,type="info"}=attributes,[parentId]=(0,core_data_1.useEntityProp)("postType","product_variation","parent_id"),{dismissedNotices,dismissNotice,isResolving}=(0,use_notice_1.useNotice)(),{parentName,isParentResolving}=(0,data_1.useSelect)((select=>{const{getEditedEntityRecord,hasFinishedResolution}=select("core"),{name}=getEditedEntityRecord("postType","product",parentId);return{parentName:name||"",isParentResolving:!hasFinishedResolution("getEditedEntityRecord",["postType","product",parentId])}}));return dismissedNotices.includes(parentId)||isResolving||isParentResolving||""===parentName?null:(0,element_1.createElement)("div",{...blockProps},(0,element_1.createElement)(notice_1.Notice,{title,type,isDismissible,handleDismiss:()=>{(0,tracks_1.recordEvent)("product_single_variation_notice_dismissed"),dismissNotice(parentId)}},(0,element_1.createInterpolateElement)(content,{strong:(0,element_1.createElement)("strong",null),noticeLink:(0,element_1.createElement)(components_1.Link,{href:(0,navigation_1.getNewPath)({tab:"variations"},`/product/${parentId}`),onClick:()=>{(0,tracks_1.recordEvent)("product_single_variation_notice_click")}}),parentProductName:(0,element_1.createElement)("span",null,parentName)})))}exports.Edit=Edit;