"use strict";(self.webpackChunk_woocommerce_storybook=self.webpackChunk_woocommerce_storybook||[]).push([[1772],{"../../packages/js/components/src/experimental-select-control/combo-box.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>ComboBox});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/@wordpress+icons@8.2.3/node_modules/@wordpress/icons/build-module/icon/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/@wordpress+icons@8.2.3/node_modules/@wordpress/icons/build-module/library/chevron-down.js"),ToggleButton=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(props,ref){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("button",(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__.A)({className:"woocommerce-experimental-select-control__combox-box-toggle-button"},props,{ref}),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_3__.A,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_4__.A}))})),ComboBox=function ComboBox(_ref){var children=_ref.children,comboBoxProps=_ref.comboBoxProps,_ref$getToggleButtonP=_ref.getToggleButtonProps,getToggleButtonProps=void 0===_ref$getToggleButtonP?function(){return{}}:_ref$getToggleButtonP,inputProps=_ref.inputProps,suffix=_ref.suffix,showToggleButton=_ref.showToggleButton,inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("woocommerce-experimental-select-control__combo-box-wrapper",{"woocommerce-experimental-select-control__combo-box-wrapper--disabled":inputProps.disabled}),onMouseDown:function maybeFocusInput(event){inputRef&&inputRef.current&&document.activeElement!==inputRef.current&&(event.preventDefault(),inputRef.current.focus(),event.stopPropagation())}},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"woocommerce-experimental-select-control__items-wrapper"},children,(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__.A)({},comboBoxProps,{className:"woocommerce-experimental-select-control__combox-box"}),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("input",(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__.A)({},inputProps,{ref:function ref(node){inputRef.current=node,"function"==typeof inputProps.ref&&inputProps.ref(node)}})))),suffix&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"woocommerce-experimental-select-control__suffix"},suffix),showToggleButton&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ToggleButton,getToggleButtonProps()))};try{ComboBox.displayName="ComboBox",ComboBox.__docgenInfo={description:"",displayName:"ComboBox",props:{comboBoxProps:{defaultValue:null,description:"",name:"comboBoxProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!0,type:{name:"DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>"}},getToggleButtonProps:{defaultValue:{value:"() => ( {} )"},description:"",name:"getToggleButtonProps",required:!1,type:{name:'(() => Omit<DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>, "ref">)'}},suffix:{defaultValue:null,description:"",name:"suffix",required:!1,type:{name:"Element | null"}},showToggleButton:{defaultValue:null,description:"",name:"showToggleButton",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/experimental-select-control/combo-box.tsx#ComboBox"]={docgenInfo:ComboBox.__docgenInfo,name:"ComboBox",path:"../../packages/js/components/src/experimental-select-control/combo-box.tsx#ComboBox"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/js/components/src/experimental-select-control/menu-item.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>MenuItem});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/@wordpress+components@19.8.5_@types+react@17.0.71_react-dom@17.0.2_react@17.0.2__react-with-d_oli5xz3n7pc4ztqokra47llglu/node_modules/@wordpress/components/build-module/tooltip/index.js"),MenuItem=function MenuItem(_ref){var children=_ref.children,getItemProps=_ref.getItemProps,index=_ref.index,isActive=_ref.isActive,_ref$activeStyle=_ref.activeStyle,activeStyle=void 0===_ref$activeStyle?{backgroundColor:"#bde4ff"}:_ref$activeStyle,item=_ref.item,tooltipText=_ref.tooltipText,className=_ref.className;function renderListItem(){var itemProps=getItemProps({item,index});return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("li",(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__.A)({},itemProps,{style:isActive?activeStyle:itemProps.style,className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("woocommerce-experimental-select-control__menu-item",itemProps.className,className)}),children)}return tooltipText?(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.A,{text:tooltipText,position:"top center"},renderListItem()):renderListItem()};try{MenuItem.displayName="MenuItem",MenuItem.__docgenInfo={description:"",displayName:"MenuItem",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"ItemType"}},getItemProps:{defaultValue:null,description:"",name:"getItemProps",required:!0,type:{name:"getItemPropsType<ItemType>"}},activeStyle:{defaultValue:{value:"{ backgroundColor: '#bde4ff' }"},description:"",name:"activeStyle",required:!1,type:{name:"CSSProperties"}},tooltipText:{defaultValue:null,description:"",name:"tooltipText",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/experimental-select-control/menu-item.tsx#MenuItem"]={docgenInfo:MenuItem.__docgenInfo,name:"MenuItem",path:"../../packages/js/components/src/experimental-select-control/menu-item.tsx#MenuItem"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/js/components/src/experimental-select-control/menu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>Menu,c:()=>MenuSlot});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_wordpress_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@wordpress+components@19.8.5_@types+react@17.0.71_react-dom@17.0.2_react@17.0.2__react-with-d_oli5xz3n7pc4ztqokra47llglu/node_modules/@wordpress/components/build-module/popover/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_element__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js"),Menu=function Menu(_ref){var _selectControlMenuRef2,children=_ref.children,getMenuProps=_ref.getMenuProps,isOpen=_ref.isOpen,className=_ref.className,_ref$position=_ref.position,position=void 0===_ref$position?"bottom right":_ref$position,_ref$scrollIntoViewOn=_ref.scrollIntoViewOnOpen,scrollIntoViewOnOpen=void 0!==_ref$scrollIntoViewOn&&_ref$scrollIntoViewOn,selectControlMenuRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),popoverRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)((function(){var _selectControlMenuRef,_popoverRef$current,comboboxWrapper=null===(_selectControlMenuRef=selectControlMenuRef.current)||void 0===_selectControlMenuRef?void 0:_selectControlMenuRef.closest(".woocommerce-experimental-select-control__combo-box-wrapper"),popoverContent=null===(_popoverRef$current=popoverRef.current)||void 0===_popoverRef$current?void 0:_popoverRef$current.querySelector(".components-popover__content");comboboxWrapper&&(null==comboboxWrapper?void 0:comboboxWrapper.clientWidth)>0&&popoverContent&&(popoverContent.style.width="".concat(comboboxWrapper.getBoundingClientRect().width,"px"))}),[selectControlMenuRef.current,null===(_selectControlMenuRef2=selectControlMenuRef.current)||void 0===_selectControlMenuRef2?void 0:_selectControlMenuRef2.clientWidth,popoverRef.current]),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){var _selectControlMenuRef3;isOpen&&scrollIntoViewOnOpen&&(null===(_selectControlMenuRef3=selectControlMenuRef.current)||void 0===_selectControlMenuRef3||_selectControlMenuRef3.scrollIntoView())}),[isOpen,scrollIntoViewOnOpen]),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{ref:selectControlMenuRef,className:"woocommerce-experimental-select-control__menu"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",null,(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.A,{__unstableSlotName:"woocommerce-select-control-menu",focusOnMount:!1,className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("woocommerce-experimental-select-control__popover-menu",{"is-open":isOpen,"has-results":_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Children.count(children)>0}),position,animate:!1,resize:!1,ref:popoverRef},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("ul",(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__.A)({},getMenuProps(),{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("woocommerce-experimental-select-control__popover-menu-container",className),onMouseUp:function onMouseUp(e){return e.stopPropagation()}}),isOpen&&children))))},MenuSlot=function MenuSlot(){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createPortal)((0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{"aria-live":"off"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.A.Slot,{name:"woocommerce-select-control-menu"})),document.body)};try{Menu.displayName="Menu",Menu.__docgenInfo={description:"",displayName:"Menu",props:{getMenuProps:{defaultValue:null,description:"",name:"getMenuProps",required:!0,type:{name:"getMenuPropsType"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},position:{defaultValue:{value:"bottom right"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"top left"'},{value:'"top right"'},{value:'"top center"'},{value:'"middle left"'},{value:'"middle right"'},{value:'"middle center"'},{value:'"bottom left"'},{value:'"bottom right"'},{value:'"bottom center"'}]}},scrollIntoViewOnOpen:{defaultValue:{value:"false"},description:"",name:"scrollIntoViewOnOpen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/experimental-select-control/menu.tsx#Menu"]={docgenInfo:Menu.__docgenInfo,name:"Menu",path:"../../packages/js/components/src/experimental-select-control/menu.tsx#Menu"})}catch(__react_docgen_typescript_loader_error){}try{MenuSlot.displayName="MenuSlot",MenuSlot.__docgenInfo={description:"",displayName:"MenuSlot",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/experimental-select-control/menu.tsx#MenuSlot"]={docgenInfo:MenuSlot.__docgenInfo,name:"MenuSlot",path:"../../packages/js/components/src/experimental-select-control/menu.tsx#MenuSlot"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/js/components/src/experimental-select-control/select-control.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>SelectControl,U:()=>selectControlStateChangeTypes});var esm_extends=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/extends.js"),defineProperty=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),slicedToArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),classnames=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),classnames_default=__webpack_require__.n(classnames),downshift_esm=__webpack_require__("../../node_modules/.pnpm/downshift@6.1.12_react@17.0.2/node_modules/downshift/dist/downshift.esm.js"),use_instance_id=__webpack_require__("../../node_modules/.pnpm/@wordpress+compose@5.4.1_react@17.0.2/node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),chevron_down=__webpack_require__("../../node_modules/.pnpm/@wordpress+icons@8.2.3/node_modules/@wordpress/icons/build-module/library/chevron-down.js"),selected_items=__webpack_require__("../../packages/js/components/src/experimental-select-control/selected-items.tsx"),combo_box=__webpack_require__("../../packages/js/components/src/experimental-select-control/combo-box.tsx"),menu=__webpack_require__("../../packages/js/components/src/experimental-select-control/menu.tsx"),menu_item=__webpack_require__("../../packages/js/components/src/experimental-select-control/menu-item.tsx"),suffix_icon=__webpack_require__("../../packages/js/components/src/experimental-select-control/suffix-icon.tsx");__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.index-of.js");function isDefaultItemType(item){return Boolean(item)&&void 0!==item.label&&void 0!==item.value}var defaultGetItemLabel=function defaultGetItemLabel(item){return isDefaultItemType(item)?item.label:""},defaultGetItemValue=function defaultGetItemValue(item){return isDefaultItemType(item)?item.value:""},defaultGetFilteredItems=function defaultGetFilteredItems(allItems,inputValue,selectedItems,getItemLabel){var escapedInputValue=inputValue.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),re=new RegExp(escapedInputValue,"gi");return allItems.filter((function(item){return selectedItems.indexOf(item)<0&&re.test(getItemLabel(item).toLowerCase())}))},_excluded=["inputValue"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var selectControlStateChangeTypes=downshift_esm.Bp.stateChangeTypes;function SelectControl(_ref){var _ref$getItemLabel=_ref.getItemLabel,getItemLabel=void 0===_ref$getItemLabel?defaultGetItemLabel:_ref$getItemLabel,_ref$getItemValue=_ref.getItemValue,getItemValue=void 0===_ref$getItemValue?defaultGetItemValue:_ref$getItemValue,_ref$hasExternalTags=_ref.hasExternalTags,hasExternalTags=void 0!==_ref$hasExternalTags&&_ref$hasExternalTags,_ref$children=_ref.children,children=void 0===_ref$children?function(_ref2){var renderItems=_ref2.items,highlightedIndex=_ref2.highlightedIndex,getItemProps=_ref2.getItemProps,getMenuProps=_ref2.getMenuProps,isOpen=_ref2.isOpen;return(0,react.createElement)(menu.W,{getMenuProps,isOpen},renderItems.map((function(item,index){return(0,react.createElement)(menu_item.D,{key:"".concat(getItemValue(item)).concat(index),index,isActive:highlightedIndex===index,item,getItemProps},getItemLabel(item))})))}:_ref$children,_ref$multiple=_ref.multiple,multiple=void 0!==_ref$multiple&&_ref$multiple,items=_ref.items,label=_ref.label,_ref$getFilteredItems=_ref.getFilteredItems,getFilteredItems=void 0===_ref$getFilteredItems?defaultGetFilteredItems:_ref$getFilteredItems,_ref$onInputChange=_ref.onInputChange,onInputChange=void 0===_ref$onInputChange?function(){return null}:_ref$onInputChange,_ref$onRemove=_ref.onRemove,onRemove=void 0===_ref$onRemove?function(){return null}:_ref$onRemove,_ref$onSelect=_ref.onSelect,onSelect=void 0===_ref$onSelect?function(){return null}:_ref$onSelect,_ref$onFocus=_ref.onFocus,_onFocus=void 0===_ref$onFocus?function(){return null}:_ref$onFocus,_ref$onKeyDown=_ref.onKeyDown,onKeyDown=void 0===_ref$onKeyDown?function(){return null}:_ref$onKeyDown,_ref$stateReducer=_ref.stateReducer,_stateReducer=void 0===_ref$stateReducer?function(state,actionAndChanges){return actionAndChanges.changes}:_ref$stateReducer,placeholder=_ref.placeholder,selected=_ref.selected,className=_ref.className,disabled=_ref.disabled,_ref$inputProps=_ref.inputProps,inputProps=void 0===_ref$inputProps?{}:_ref$inputProps,_ref$suffix=_ref.suffix,suffix=void 0===_ref$suffix?(0,react.createElement)(suffix_icon.f,{icon:chevron_down.A}):_ref$suffix,_ref$showToggleButton=_ref.showToggleButton,showToggleButton=void 0!==_ref$showToggleButton&&_ref$showToggleButton,_ref$readOnlyWhenClos=_ref.readOnlyWhenClosed,readOnlyWhenClosed=void 0===_ref$readOnlyWhenClos||_ref$readOnlyWhenClos,_ref$__experimentalOp=_ref.__experimentalOpenMenuOnFocus,__experimentalOpenMenuOnFocus=void 0!==_ref$__experimentalOp&&_ref$__experimentalOp,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.A)(_useState,2),isFocused=_useState2[0],setIsFocused=_useState2[1],_useState3=(0,react.useState)(""),_useState4=(0,slicedToArray.A)(_useState3,2),inputValue=_useState4[0],setInputValue=_useState4[1],instanceId=(0,use_instance_id.A)(SelectControl,"woocommerce-experimental-select-control"),selectControlWrapperRef=(0,react.useRef)(null),selectedItems=null===selected?[]:selected;selectedItems=Array.isArray(selectedItems)?selectedItems:[selectedItems].filter(Boolean);var singleSelectedItem=!multiple&&selectedItems.length?selectedItems[0]:null,filteredItems=getFilteredItems(items,inputValue,selectedItems,getItemLabel),_useMultipleSelection=(0,downshift_esm.mH)({itemToString:getItemLabel,selectedItems}),getSelectedItemProps=_useMultipleSelection.getSelectedItemProps,getDropdownProps=_useMultipleSelection.getDropdownProps,removeSelectedItem=_useMultipleSelection.removeSelectedItem;(0,react.useEffect)((function(){multiple||setInputValue(getItemLabel(singleSelectedItem))}),[getItemLabel,multiple,singleSelectedItem]);var _useCombobox=(0,downshift_esm.Bp)({id:instanceId,initialSelectedItem:singleSelectedItem,inputValue,items:filteredItems,selectedItem:multiple?null:singleSelectedItem,itemToString:getItemLabel,onSelectedItemChange:function onSelectedItemChange(_ref3){var selectedItem=_ref3.selectedItem;selectedItem?onSelect(selectedItem):singleSelectedItem&&onRemove(singleSelectedItem)},onInputValueChange:function onInputValueChange(_ref4){var value=_ref4.inputValue,changes=(0,objectWithoutProperties.A)(_ref4,_excluded);void 0!==value&&(setInputValue(value),onInputChange(value,changes))},stateReducer:function stateReducer(state,actionAndChanges){var _changes$inputValue,_changes$inputValue2,_newChanges,newChanges,changes=actionAndChanges.changes;switch(actionAndChanges.type){case selectControlStateChangeTypes.InputBlur:newChanges=_objectSpread(_objectSpread({},changes),{},{selectedItem:null!==(_changes$inputValue=changes.inputValue)&&void 0!==_changes$inputValue&&_changes$inputValue.length||multiple?changes.selectedItem:null,inputValue:changes.selectedItem===state.selectedItem&&null!==(_changes$inputValue2=changes.inputValue)&&void 0!==_changes$inputValue2&&_changes$inputValue2.length&&!multiple?getItemLabel(comboboxSingleSelectedItem):""});break;case selectControlStateChangeTypes.InputKeyDownEnter:case selectControlStateChangeTypes.FunctionSelectItem:case selectControlStateChangeTypes.ItemClick:changes.selectedItem&&multiple&&(newChanges=_objectSpread(_objectSpread({},changes),{},{inputValue:""}))}return _stateReducer(state,_objectSpread(_objectSpread({},actionAndChanges),{},{changes:null!==(_newChanges=newChanges)&&void 0!==_newChanges?_newChanges:changes}))}}),isOpen=_useCombobox.isOpen,getLabelProps=_useCombobox.getLabelProps,getMenuProps=_useCombobox.getMenuProps,getToggleButtonProps=_useCombobox.getToggleButtonProps,getInputProps=_useCombobox.getInputProps,getComboboxProps=_useCombobox.getComboboxProps,highlightedIndex=_useCombobox.highlightedIndex,getItemProps=_useCombobox.getItemProps,selectItem=_useCombobox.selectItem,comboboxSingleSelectedItem=_useCombobox.selectedItem,openMenu=_useCombobox.openMenu,closeMenu=_useCombobox.closeMenu,isReadOnly=readOnlyWhenClosed&&!isOpen&&!isFocused,selectedItemTags=multiple?(0,react.createElement)(selected_items.K,{items:selectedItems,isReadOnly,getItemLabel,getItemValue,getSelectedItemProps,onRemove:function onRemoveItem(item){selectItem(null),removeSelectedItem(item),onRemove(item)}}):null;return(0,react.createElement)("div",{id:instanceId,ref:selectControlWrapperRef,className:classnames_default()("woocommerce-experimental-select-control",className,{"is-read-only":isReadOnly,"is-focused":isFocused,"is-multiple":multiple,"has-selected-items":selectedItems.length})},label&&(0,react.createElement)("label",(0,esm_extends.A)({},getLabelProps(),{className:"woocommerce-experimental-select-control__label"}),label),(0,react.createElement)(combo_box.a,{comboBoxProps:getComboboxProps(),getToggleButtonProps,inputProps:getInputProps(_objectSpread(_objectSpread({},getDropdownProps({preventKeyAction:isOpen})),{},{className:"woocommerce-experimental-select-control__input",onFocus:function onFocus(){setIsFocused(!0),_onFocus({inputValue}),__experimentalOpenMenuOnFocus&&openMenu()},onBlur:function onBlur(event){(function isEventOutside(event){var selectControlWrapperElement=selectControlWrapperRef.current,menuElement=document.getElementById("".concat(instanceId,"-menu")),parentPopoverMenuElement=null==menuElement?void 0:menuElement.closest(".woocommerce-experimental-select-control__popover-menu");return!(null!=selectControlWrapperElement&&selectControlWrapperElement.contains(event.relatedTarget)||null!=parentPopoverMenuElement&&parentPopoverMenuElement.contains(event.relatedTarget))})(event)&&setIsFocused(!1)},onKeyDown,placeholder,disabled},inputProps)),suffix,showToggleButton},(0,react.createElement)(react.Fragment,null,children({items:filteredItems,highlightedIndex,getItemProps,getMenuProps,isOpen,getItemLabel,getItemValue,selectItem,setInputValue,openMenu,closeMenu}),!hasExternalTags&&selectedItemTags)),hasExternalTags&&selectedItemTags)}try{SelectControl.displayName="SelectControl",SelectControl.__docgenInfo={description:"",displayName:"SelectControl",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemType[]"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | Element"}},getItemLabel:{defaultValue:{value:"< ItemType >( item: ItemType | null ) => {\n\tif ( isDefaultItemType< ItemType >( item ) ) {\n\t\treturn item.label;\n\t}\n\treturn '';\n}"},description:"",name:"getItemLabel",required:!1,type:{name:"getItemLabelType<ItemType>"}},getItemValue:{defaultValue:{value:"< ItemType >( item: ItemType | null ) => {\n\tif ( isDefaultItemType< ItemType >( item ) ) {\n\t\treturn item.value;\n\t}\n\treturn '';\n}"},description:"",name:"getItemValue",required:!1,type:{name:"getItemValueType<ItemType>"}},getFilteredItems:{defaultValue:{value:"< ItemType >(\n\tallItems: ItemType[],\n\tinputValue: string,\n\tselectedItems: ItemType[],\n\tgetItemLabel: getItemLabelType< ItemType >\n) => {\n\tconst escapedInputValue = inputValue.replace(\n\t\t/[.*+?^${}()|[\\]\\\\]/g,\n\t\t'\\\\$&'\n\t);\n\tconst re = new RegExp( escapedInputValue, 'gi' );\n\n\treturn allItems.filter( ( item ) => {\n\t\treturn (\n\t\t\tselectedItems.indexOf( item ) < 0 &&\n\t\t\tre.test( getItemLabel( item ).toLowerCase() )\n\t\t);\n\t} );\n}"},description:"",name:"getFilteredItems",required:!1,type:{name:"((allItems: ItemType[], inputValue: string, selectedItems: ItemType[], getItemLabel: getItemLabelType<ItemType>) => ItemType[])"}},hasExternalTags:{defaultValue:{value:"false"},description:"",name:"hasExternalTags",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},onInputChange:{defaultValue:{value:"() => null"},description:"",name:"onInputChange",required:!1,type:{name:'((value: string, changes: Partial<Omit<UseComboboxState<ItemType>, "inputValue">>) => void)'}},onRemove:{defaultValue:{value:"() => null"},description:"",name:"onRemove",required:!1,type:{name:"((item: ItemType) => void)"}},onSelect:{defaultValue:{value:"() => null"},description:"",name:"onSelect",required:!1,type:{name:"((selected: ItemType) => void)"}},onKeyDown:{defaultValue:{value:"() => null"},description:"",name:"onKeyDown",required:!1,type:{name:"((e: KeyboardEvent) => void)"}},onFocus:{defaultValue:{value:"() => null"},description:"",name:"onFocus",required:!1,type:{name:"((data: { inputValue: string; }) => void)"}},stateReducer:{defaultValue:{value:"( state, actionAndChanges ) => actionAndChanges.changes"},description:"",name:"stateReducer",required:!1,type:{name:"((state: UseComboboxState<ItemType | null>, actionAndChanges: UseComboboxStateChangeOptions<ItemType | null>) => Partial<...>)"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"ItemType | ItemType[] | null"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},inputProps:{defaultValue:{value:"{}"},description:"",name:"inputProps",required:!1,type:{name:"GetInputPropsOptions"}},suffix:{defaultValue:{value:"<SuffixIcon icon={ chevronDown } />"},description:"",name:"suffix",required:!1,type:{name:"Element | null"}},showToggleButton:{defaultValue:{value:"false"},description:"",name:"showToggleButton",required:!1,type:{name:"boolean"}},readOnlyWhenClosed:{defaultValue:{value:"true"},description:"",name:"readOnlyWhenClosed",required:!1,type:{name:"boolean"}},__experimentalOpenMenuOnFocus:{defaultValue:{value:"false"},description:"This is a feature already implemented in downshift@7.0.0 through the\nreducer. In order for us to use it this prop is added temporarily until\ncurrent downshift version get updated.\n@see https://www.downshift-js.com/use-multiple-selection#usage-with-combobox",name:"__experimentalOpenMenuOnFocus",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/experimental-select-control/select-control.tsx#SelectControl"]={docgenInfo:SelectControl.__docgenInfo,name:"SelectControl",path:"../../packages/js/components/src/experimental-select-control/select-control.tsx#SelectControl"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/js/components/src/experimental-select-control/selected-items.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>SelectedItems});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_wordpress_html_entities__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/@wordpress+html-entities@3.6.1/node_modules/@wordpress/html-entities/build-module/index.js"),_tag__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../packages/js/components/src/tag/index.tsx"),SelectedItems=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.forwardRef)((function PrivateSelectedItems(_ref,ref){var isReadOnly=_ref.isReadOnly,items=_ref.items,getItemLabel=_ref.getItemLabel,getItemValue=_ref.getItemValue,getSelectedItemProps=_ref.getSelectedItemProps,onRemove=_ref.onRemove,onBlur=_ref.onBlur,onSelectedItemsEnd=_ref.onSelectedItemsEnd,classes=classnames__WEBPACK_IMPORTED_MODULE_2___default()("woocommerce-experimental-select-control__selected-items",{"is-read-only":isReadOnly}),lastRemoveButtonRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);if((0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useImperativeHandle)(ref,(function(){return function(){var _lastRemoveButtonRef$;return null===(_lastRemoveButtonRef$=lastRemoveButtonRef.current)||void 0===_lastRemoveButtonRef$?void 0:_lastRemoveButtonRef$.focus()}}),[]),isReadOnly)return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.createElement)("div",{className:classes},items.map((function(item){return(0,_wordpress_html_entities__WEBPACK_IMPORTED_MODULE_4__.S)(getItemLabel(item))})).join(", "));var focusSibling=function focusSibling(event){var _querySelector,selectedItem=event.target.closest(".woocommerce-experimental-select-control__selected-item"),sibling="ArrowLeft"===event.key||"Backspace"===event.key?null==selectedItem?void 0:selectedItem.previousSibling:null==selectedItem?void 0:selectedItem.nextSibling;return!!sibling&&(null===(_querySelector=sibling.querySelector(".woocommerce-tag__remove"))||void 0===_querySelector||_querySelector.focus(),!0)};return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.createElement)("div",{className:classes},items.map((function(item,index){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.createElement)("div",(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_5__.A)({key:"selected-item-".concat(index),className:"woocommerce-experimental-select-control__selected-item"},getSelectedItemProps({selectedItem:item,index}),{onMouseDown:function onMouseDown(event){event.preventDefault()},onClick:function onClick(event){event.preventDefault()},onKeyDown:function onKeyDown(event){"ArrowLeft"===event.key||"ArrowRight"===event.key?!focusSibling(event)&&"ArrowRight"===event.key&&onSelectedItemsEnd&&onSelectedItemsEnd():"ArrowUp"===event.key||"ArrowDown"===event.key?event.preventDefault():"Backspace"===event.key&&(onRemove(item),focusSibling(event))},onBlur}),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.createElement)(_tag__WEBPACK_IMPORTED_MODULE_6__.A,{id:getItemValue(item),remove:function remove(){return function(){return onRemove(item)}},label:getItemLabel(item),ref:index===items.length-1?lastRemoveButtonRef:void 0}))})))}));try{SelectedItems.displayName="SelectedItems",SelectedItems.__docgenInfo={description:"",displayName:"SelectedItems",props:{isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ItemType[]"}},getItemLabel:{defaultValue:null,description:"",name:"getItemLabel",required:!0,type:{name:"getItemLabelType<ItemType>"}},getItemValue:{defaultValue:null,description:"",name:"getItemValue",required:!0,type:{name:"getItemValueType<ItemType>"}},getSelectedItemProps:{defaultValue:null,description:"",name:"getSelectedItemProps",required:!0,type:{name:"({ selectedItem: any, index: any }: { selectedItem: any; index: any; }) => { [key: string]: string; }"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(item: ItemType) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onSelectedItemsEnd:{defaultValue:null,description:"",name:"onSelectedItemsEnd",required:!1,type:{name:"(() => void)"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"ForwardedRef<SelectedItemFocusHandle>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/experimental-select-control/selected-items.tsx#SelectedItems"]={docgenInfo:SelectedItems.__docgenInfo,name:"SelectedItems",path:"../../packages/js/components/src/experimental-select-control/selected-items.tsx#SelectedItems"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/js/components/src/experimental-select-control/suffix-icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>SuffixIcon});var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@wordpress+icons@8.2.3/node_modules/@wordpress/icons/build-module/icon/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),SuffixIcon=function SuffixIcon(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,icon=_ref.icon;return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("woocommerce-experimental-select-control__suffix-icon",className)},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_2__.A,{icon,size:24}))};try{SuffixIcon.displayName="SuffixIcon",SuffixIcon.__docgenInfo={description:"",displayName:"SuffixIcon",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"Element"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/components/src/experimental-select-control/suffix-icon.tsx#SuffixIcon"]={docgenInfo:SuffixIcon.__docgenInfo,name:"SuffixIcon",path:"../../packages/js/components/src/experimental-select-control/suffix-icon.tsx#SuffixIcon"})}catch(__react_docgen_typescript_loader_error){}}}]);