(self.webpackChunk_woocommerce_storybook=self.webpackChunk_woocommerce_storybook||[]).push([[9028],{"../../packages/js/navigation/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Oo:()=>addHistoryListener,SI:()=>flattenFilters,Q$:()=>getActiveFiltersFromQuery,Am:()=>getDefaultOptionValue,JK:()=>history_getHistory,DF:()=>getIdsFromQuery,Gy:()=>getNewPath,aK:()=>getPersistedQuery,$Z:()=>getQuery,Sz:()=>getQueryFromActiveFilters,Ze:()=>updateQueryString});__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.define-property.js");var _history,toConsumableArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),defineProperty=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),add_query_args=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.search.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.set.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.url.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.url-search-params.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../node_modules/.pnpm/@wordpress+url@3.7.1/node_modules/@wordpress/url/build-module/add-query-args.js")),lib=__webpack_require__("../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/index.js"),lodash=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js"),build_module=__webpack_require__("../../node_modules/.pnpm/@wordpress+hooks@3.6.1/node_modules/@wordpress/hooks/build-module/index.js"),node_modules_history=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/.pnpm/history@5.3.0/node_modules/history/index.js"));function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function history_getHistory(){if(!_history){var browserHistory=(0,node_modules_history.zR)(),locationStack=[browserHistory.location];_history={get action(){return browserHistory.action},get location(){var pathname,location=browserHistory.location,query=(0,lib.parse)(location.search.substring(1));return query&&"string"==typeof query.path?pathname=query.path:query&&query.path&&"string"!=typeof query.path?(console.warn("Query path parameter should be a string but instead was: ".concat(query.path,", undefined behaviour may occur.")),pathname=query.path):pathname="/",_objectSpread(_objectSpread({},location),{},{pathname})},get __experimentalLocationStack(){return(0,toConsumableArray.A)(locationStack)},createHref:browserHistory.createHref,push:browserHistory.push,replace:browserHistory.replace,go:browserHistory.go,back:browserHistory.back,forward:browserHistory.forward,block:browserHistory.block,listen:function listen(listener){var _this=this;return browserHistory.listen((function(){listener({action:_this.action,location:_this.location})}))}},browserHistory.listen((function(){return function updateNextLocationStack(action,location){switch(action){case"POP":locationStack=locationStack.slice(0,locationStack.length-1);break;case"PUSH":locationStack=[].concat((0,toConsumableArray.A)(locationStack),[location]);break;case"REPLACE":locationStack=[].concat((0,toConsumableArray.A)(locationStack.slice(0,locationStack.length-1)),[location])}}(_history.action,_history.location)}))}return _history}__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.some.js");function filters_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function filters_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?filters_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):filters_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function getUrlKey(key,rule){return rule&&rule.length?"".concat(key,"_").concat(rule):key}function flattenFilters(filters){var allFilters=[];return filters.forEach((function(f){if(f.subFilters){allFilters.push((0,lodash.omit)(f,"subFilters"));var subFilters=flattenFilters(f.subFilters);allFilters.push.apply(allFilters,(0,toConsumableArray.A)(subFilters))}else allFilters.push(f)})),allFilters}function getActiveFiltersFromQuery(query,config){return Object.keys(config).reduce((function(activeFilters,configKey){var filter=config[configKey];if(filter.rules){var matches=filter.rules.filter((function(rule){return query.hasOwnProperty(getUrlKey(configKey,rule.value))}));if(matches.length)if(filter.allowMultiple)matches.forEach((function(match){query[getUrlKey(configKey,match.value)].forEach((function(filterValue){activeFilters.push({key:configKey,rule:match.value,value:filterValue})}))}));else{var value=query[getUrlKey(configKey,matches[0].value)];activeFilters.push({key:configKey,rule:matches[0].value,value})}}else if(query[configKey]){if(filter.allowMultiple)query[configKey].forEach((function(filterValue){activeFilters.push({key:configKey,value:filterValue})}));else activeFilters.push({key:configKey,value:query[configKey]})}return activeFilters}),[])}function getDefaultOptionValue(config,options){var defaultOption=config.input.defaultOption;if(config.input.defaultOption){var option=(0,lodash.find)(options,{value:defaultOption});return option?option.value:void console.warn("invalid defaultOption ".concat(defaultOption," supplied to ").concat(config.labels.add))}return(0,lodash.get)(options,[0,"value"])}function getQueryFromActiveFilters(activeFilters,query,config){var previousData=getActiveFiltersFromQuery(query,config).reduce((function(data,filter){return data[getUrlKey(filter.key,filter.rule)]=void 0,data}),{}),nextData=activeFilters.reduce((function(data,filter){if("between"===filter.rule&&(!Array.isArray(filter.value)||filter.value.some((function(value){return!value}))))return data;if(filter.value){var urlKey=getUrlKey(filter.key,filter.rule);config[filter.key]&&config[filter.key].allowMultiple?(data.hasOwnProperty(urlKey)||(data[urlKey]=[]),data[urlKey].push(filter.value)):data[urlKey]=filter.value}return data}),{});return filters_objectSpread(filters_objectSpread({},previousData),nextData)}__webpack_require__("../../node_modules/.pnpm/@wordpress+i18n@4.6.1/node_modules/@wordpress/i18n/build-module/index.js");function src_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function src_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?src_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):src_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var getPath=function getPath(){return history_getHistory().location.pathname};function getQuery(){var search=history_getHistory().location.search;return search.length&&(0,lib.parse)(search.substring(1))||{}}function getNewPath(query){var path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getPath(),currentQuery=arguments.length>2&&void 0!==arguments[2]?arguments[2]:getQuery(),args=src_objectSpread(src_objectSpread({page:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"wc-admin"},currentQuery),query);return"/"!==path&&(args.path=path),(0,add_query_args.F)("admin.php",args)}var getPersistedQuery=function getPersistedQuery(){var query=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getQuery(),params=(0,build_module.W5)("woocommerce_admin_persisted_queries",["period","compare","before","after","interval","type"]);return(0,lodash.pick)(query,params)};function updateQueryString(query){var newPath=getNewPath(query,arguments.length>1&&void 0!==arguments[1]?arguments[1]:getPath(),arguments.length>2&&void 0!==arguments[2]?arguments[2]:getQuery(),arguments.length>3&&void 0!==arguments[3]?arguments[3]:"wc-admin");history_getHistory().push(newPath)}var addHistoryListener=function addHistoryListener(listener){var _window$wcNavigation,history,pushState,replaceState;return window.wcNavigation=null!==(_window$wcNavigation=window.wcNavigation)&&void 0!==_window$wcNavigation?_window$wcNavigation:{},window.wcNavigation.historyPatched||(history=window.history,pushState=history.pushState,replaceState=history.replaceState,history.pushState=function(state){var pushStateEvent=new CustomEvent("pushstate",{state});return window.dispatchEvent(pushStateEvent),pushState.apply(history,arguments)},history.replaceState=function(state){var replaceStateEvent=new CustomEvent("replacestate",{state});return window.dispatchEvent(replaceStateEvent),replaceState.apply(history,arguments)},window.wcNavigation.historyPatched=!0),window.addEventListener("popstate",listener),window.addEventListener("pushstate",listener),window.addEventListener("replacestate",listener),function(){window.removeEventListener("popstate",listener),window.removeEventListener("pushstate",listener),window.removeEventListener("replacestate",listener)}};function getIdsFromQuery(){var queryString=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,toConsumableArray.A)(function getSetOfIdsFromQuery(){return new Set((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(",").map((function(id){return parseInt(id,10)})).filter((function(id){return!isNaN(id)})))}(queryString))}},"?bbf9":()=>{}}]);