"use strict";(self.webpackChunk_woocommerce_storybook=self.webpackChunk_woocommerce_storybook||[]).push([[8129],{"../../node_modules/.pnpm/@wordpress+api-fetch@6.3.1/node_modules/@wordpress/api-fetch/build-module/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>api_fetch_build_module});var build_module=__webpack_require__("../../node_modules/.pnpm/@wordpress+i18n@4.6.1/node_modules/@wordpress/i18n/build-module/index.js");const nonce=function createNonceMiddleware(nonce){const middleware=(options,next)=>{const{headers={}}=options;for(const headerName in headers)if("x-wp-nonce"===headerName.toLowerCase()&&headers[headerName]===middleware.nonce)return next(options);return next({...options,headers:{...headers,"X-WP-Nonce":middleware.nonce}})};return middleware.nonce=nonce,middleware},namespace_endpoint=(options,next)=>{let namespaceTrimmed,endpointTrimmed,path=options.path;return"string"==typeof options.namespace&&"string"==typeof options.endpoint&&(namespaceTrimmed=options.namespace.replace(/^\/|\/$/g,""),endpointTrimmed=options.endpoint.replace(/^\//,""),path=endpointTrimmed?namespaceTrimmed+"/"+endpointTrimmed:namespaceTrimmed),delete options.namespace,delete options.endpoint,next({...options,path})},root_url=rootURL=>(options,next)=>namespace_endpoint(options,(optionsWithPath=>{let apiRoot,url=optionsWithPath.url,path=optionsWithPath.path;return"string"==typeof path&&(apiRoot=rootURL,-1!==rootURL.indexOf("?")&&(path=path.replace("?","&")),path=path.replace(/^\//,""),"string"==typeof apiRoot&&-1!==apiRoot.indexOf("?")&&(path=path.replace("?","&")),url=apiRoot+path),next({...optionsWithPath,url})}));function normalizePath(path){const splitted=path.split("?"),query=splitted[1],base=splitted[0];return query?base+"?"+query.split("&").map((entry=>entry.split("="))).map((pair=>pair.map(decodeURIComponent))).sort(((a,b)=>a[0].localeCompare(b[0]))).map((pair=>pair.map(encodeURIComponent))).map((pair=>pair.join("="))).join("&"):base}var get_query_args=__webpack_require__("../../node_modules/.pnpm/@wordpress+url@3.13.0/node_modules/@wordpress/url/build-module/get-query-args.js"),add_query_args=__webpack_require__("../../node_modules/.pnpm/@wordpress+url@3.13.0/node_modules/@wordpress/url/build-module/add-query-args.js");function prepareResponse(responseData,parse){return Promise.resolve(parse?responseData.body:new window.Response(JSON.stringify(responseData.body),{status:200,statusText:"OK",headers:responseData.headers}))}const preloading=function createPreloadingMiddleware(preloadedData){const cache=Object.fromEntries(Object.entries(preloadedData).map((_ref=>{let[path,data]=_ref;return[normalizePath(path),data]})));return(options,next)=>{const{parse=!0}=options;let rawPath=options.path;if(!rawPath&&options.url){const{rest_route:pathFromQuery,...queryArgs}=(0,get_query_args.u)(options.url);"string"==typeof pathFromQuery&&(rawPath=(0,add_query_args.F)(pathFromQuery,queryArgs))}if("string"!=typeof rawPath)return next(options);const method=options.method||"GET",path=normalizePath(rawPath);if("GET"===method&&cache[path]){const cacheData=cache[path];return delete cache[path],prepareResponse(cacheData,!!parse)}if("OPTIONS"===method&&cache[method]&&cache[method][path]){const cacheData=cache[method][path];return delete cache[method][path],prepareResponse(cacheData,!!parse)}return next(options)}},modifyQuery=(_ref,queryArgs)=>{let{path,url,...options}=_ref;return{...options,url:url&&(0,add_query_args.F)(url,queryArgs),path:path&&(0,add_query_args.F)(path,queryArgs)}},parseResponse=response=>response.json?response.json():Promise.reject(response),getNextPageUrl=response=>{const{next}=(linkHeader=>{if(!linkHeader)return{};const match=linkHeader.match(/<([^>]+)>; rel="next"/);return match?{next:match[1]}:{}})(response.headers.get("link"));return next},fetch_all_middleware=async(options,next)=>{if(!1===options.parse)return next(options);if(!(options=>{const pathIsUnbounded=!!options.path&&-1!==options.path.indexOf("per_page=-1"),urlIsUnbounded=!!options.url&&-1!==options.url.indexOf("per_page=-1");return pathIsUnbounded||urlIsUnbounded})(options))return next(options);const response=await api_fetch_build_module({...modifyQuery(options,{per_page:100}),parse:!1}),results=await parseResponse(response);if(!Array.isArray(results))return results;let nextPage=getNextPageUrl(response);if(!nextPage)return results;let mergedResults=[].concat(results);for(;nextPage;){const nextResponse=await api_fetch_build_module({...options,path:void 0,url:nextPage,parse:!1}),nextResults=await parseResponse(nextResponse);mergedResults=mergedResults.concat(nextResults),nextPage=getNextPageUrl(nextResponse)}return mergedResults},OVERRIDE_METHODS=new Set(["PATCH","PUT","DELETE"]),DEFAULT_METHOD="GET";function hasQueryArg(url,arg){return void 0!==function getQueryArg(url,arg){return(0,get_query_args.u)(url)[arg]}(url,arg)}const parseResponseAndNormalizeError=function(response){let shouldParseResponse=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.resolve(function(response){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?response:204===response.status?null:response.json?response.json():Promise.reject(response)}(response,shouldParseResponse)).catch((res=>parseAndThrowError(res,shouldParseResponse)))};function parseAndThrowError(response){if(!(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))throw response;return(response=>{const invalidJsonError={code:"invalid_json",message:(0,build_module.__)("The response is not a valid JSON response.")};if(!response||!response.json)throw invalidJsonError;return response.json().catch((()=>{throw invalidJsonError}))})(response).then((error=>{const unknownError={code:"unknown_error",message:(0,build_module.__)("An unknown error occurred.")};throw error||unknownError}))}const media_upload=(options,next)=>{if(!function isMediaUploadRequest(options){const isCreateMethod=!!options.method&&"POST"===options.method;return(!!options.path&&-1!==options.path.indexOf("/wp/v2/media")||!!options.url&&-1!==options.url.indexOf("/wp/v2/media"))&&isCreateMethod}(options))return next(options);let retries=0;const postProcess=attachmentId=>(retries++,next({path:`/wp/v2/media/${attachmentId}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch((()=>retries<5?postProcess(attachmentId):(next({path:`/wp/v2/media/${attachmentId}?force=true`,method:"DELETE"}),Promise.reject()))));return next({...options,parse:!1}).catch((response=>{const attachmentId=response.headers.get("x-wp-upload-attachment-id");return response.status>=500&&response.status<600&&attachmentId?postProcess(attachmentId).catch((()=>!1!==options.parse?Promise.reject({code:"post_process",message:(0,build_module.__)("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(response))):parseAndThrowError(response,options.parse)})).then((response=>parseResponseAndNormalizeError(response,options.parse)))},DEFAULT_HEADERS={Accept:"application/json, */*;q=0.1"},DEFAULT_OPTIONS={credentials:"include"},middlewares=[(options,next)=>("string"!=typeof options.url||hasQueryArg(options.url,"_locale")||(options.url=(0,add_query_args.F)(options.url,{_locale:"user"})),"string"!=typeof options.path||hasQueryArg(options.path,"_locale")||(options.path=(0,add_query_args.F)(options.path,{_locale:"user"})),next(options)),namespace_endpoint,(options,next)=>{const{method=DEFAULT_METHOD}=options;return OVERRIDE_METHODS.has(method.toUpperCase())&&(options={...options,headers:{...options.headers,"X-HTTP-Method-Override":method,"Content-Type":"application/json"},method:"POST"}),next(options)},fetch_all_middleware];const checkStatus=response=>{if(response.status>=200&&response.status<300)return response;throw response};let fetchHandler=nextOptions=>{const{url,path,data,parse=!0,...remainingOptions}=nextOptions;let{body,headers}=nextOptions;headers={...DEFAULT_HEADERS,...headers},data&&(body=JSON.stringify(data),headers["Content-Type"]="application/json");return window.fetch(url||path||window.location.href,{...DEFAULT_OPTIONS,...remainingOptions,body,headers}).then((value=>Promise.resolve(value).then(checkStatus).catch((response=>parseAndThrowError(response,parse))).then((response=>parseResponseAndNormalizeError(response,parse)))),(err=>{if(err&&"AbortError"===err.name)throw err;throw{code:"fetch_error",message:(0,build_module.__)("You are probably offline.")}}))};function apiFetch(options){return middlewares.reduceRight(((next,middleware)=>workingOptions=>middleware(workingOptions,next)),fetchHandler)(options).catch((error=>"rest_cookie_invalid_nonce"!==error.code?Promise.reject(error):window.fetch(apiFetch.nonceEndpoint).then(checkStatus).then((data=>data.text())).then((text=>(apiFetch.nonceMiddleware.nonce=text,apiFetch(options))))))}apiFetch.use=function registerMiddleware(middleware){middlewares.unshift(middleware)},apiFetch.setFetchHandler=function setFetchHandler(newFetchHandler){fetchHandler=newFetchHandler},apiFetch.createNonceMiddleware=nonce,apiFetch.createPreloadingMiddleware=preloading,apiFetch.createRootURLMiddleware=root_url,apiFetch.fetchAllMiddleware=fetch_all_middleware,apiFetch.mediaUploadMiddleware=media_upload;const api_fetch_build_module=apiFetch},"../../node_modules/.pnpm/@wordpress+url@3.13.0/node_modules/@wordpress/url/build-module/add-query-args.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>addQueryArgs});var get_query_args=__webpack_require__("../../node_modules/.pnpm/@wordpress+url@3.13.0/node_modules/@wordpress/url/build-module/get-query-args.js");function addQueryArgs(){let url=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",args=arguments.length>1?arguments[1]:void 0;if(!args||!Object.keys(args).length)return url;let baseUrl=url;const queryStringIndex=url.indexOf("?");return-1!==queryStringIndex&&(args=Object.assign((0,get_query_args.u)(url),args),baseUrl=baseUrl.substr(0,queryStringIndex)),baseUrl+"?"+function buildQueryString(data){let string="";const stack=Object.entries(data);let pair;for(;pair=stack.shift();){let[key,value]=pair;if(Array.isArray(value)||value&&value.constructor===Object){const valuePairs=Object.entries(value).reverse();for(const[member,memberValue]of valuePairs)stack.unshift([`${key}[${member}]`,memberValue])}else void 0!==value&&(null===value&&(value=""),string+="&"+[key,value].map(encodeURIComponent).join("="))}return string.substr(1)}(args)}},"../../node_modules/.pnpm/@wordpress+url@3.13.0/node_modules/@wordpress/url/build-module/get-query-args.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getQueryArgs(url){return(function getQueryString(url){let query;try{query=new URL(url,"http://example.com").search.substring(1)}catch(error){}if(query)return query}(url)||"").replace(/\+/g,"%20").split("&").reduce(((accumulator,keyValue)=>{const[key,value=""]=keyValue.split("=").filter(Boolean).map(decodeURIComponent);if(key){!function setPath(object,path,value){const length=path.length,lastIndex=length-1;for(let i=0;i<length;i++){let key=path[i];!key&&Array.isArray(object)&&(key=object.length.toString()),key=["__proto__","constructor","prototype"].includes(key)?key.toUpperCase():key;const isNextKeyArrayIndex=!isNaN(Number(path[i+1]));object[key]=i===lastIndex?value:object[key]||(isNextKeyArrayIndex?[]:{}),Array.isArray(object[key])&&!isNextKeyArrayIndex&&(object[key]={...object[key]}),object=object[key]}}(accumulator,key.replace(/\]/g,"").split("["),value)}return accumulator}),Object.create(null))}__webpack_require__.d(__webpack_exports__,{u:()=>getQueryArgs})}}]);