"use strict";(self.webpackChunk_woocommerce_block_library=self.webpackChunk_woocommerce_block_library||[]).push([[6175],{"../../node_modules/.pnpm/react-number-format@4.9.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-number-format/dist/react-number-format.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function noop(){}function charIsNumber(char){return!!(char||"").match(/\d/)}function isNil(val){return null==val}function escapeRegExp(str){return str.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function splitDecimal(numStr,allowNegative){void 0===allowNegative&&(allowNegative=!0);var hasNagation="-"===numStr[0],addNegation=hasNagation&&allowNegative,parts=(numStr=numStr.replace("-","")).split(".");return{beforeDecimal:parts[0],afterDecimal:parts[1]||"",hasNagation,addNegation}}function limitToScale(numStr,scale,fixedDecimalScale){for(var str="",filler=fixedDecimalScale?"0":"",i=0;i<=scale-1;i++)str+=numStr[i]||filler;return str}function repeat(str,count){return Array(count+1).join(str)}function setCaretPosition(el,caretPos){if(el.value=el.value,null!==el){if(el.createTextRange){var range=el.createTextRange();return range.move("character",caretPos),range.select(),!0}return el.selectionStart||0===el.selectionStart?(el.focus(),el.setSelectionRange(caretPos,caretPos),!0):(el.focus(),!1)}}function clamp(num,min,max){return Math.min(Math.max(num,min),max)}function getCurrentCaretPosition(el){return Math.max(el.selectionStart,el.selectionEnd)}var defaultProps={displayType:"input",decimalSeparator:".",thousandsGroupStyle:"thousand",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,allowEmptyFormatting:!1,allowLeadingZeros:!1,isNumericString:!1,type:"text",onValueChange:noop,onChange:noop,onKeyDown:noop,onMouseUp:noop,onFocus:noop,onBlur:noop,isAllowed:function returnTrue(){return!0}},NumberFormat=function(superclass){function NumberFormat(props){superclass.call(this,props);var defaultValue=props.defaultValue;this.validateProps();var formattedValue=this.formatValueProp(defaultValue);this.state={value:formattedValue,numAsString:this.removeFormatting(formattedValue),mounted:!1},this.selectionBeforeInput={selectionStart:0,selectionEnd:0},this.onChange=this.onChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}return superclass&&(NumberFormat.__proto__=superclass),NumberFormat.prototype=Object.create(superclass&&superclass.prototype),NumberFormat.prototype.constructor=NumberFormat,NumberFormat.prototype.componentDidMount=function componentDidMount(){this.setState({mounted:!0})},NumberFormat.prototype.componentDidUpdate=function componentDidUpdate(prevProps){this.updateValueIfRequired(prevProps)},NumberFormat.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.focusTimeout),clearTimeout(this.caretPositionTimeout)},NumberFormat.prototype.updateValueIfRequired=function updateValueIfRequired(prevProps){var props=this.props,state=this.state,focusedElm=this.focusedElm,stateValue=state.value,lastNumStr=state.numAsString;if(void 0===lastNumStr&&(lastNumStr=""),prevProps!==props){this.validateProps();var lastValueWithNewFormat=this.formatNumString(lastNumStr),formattedValue=isNil(props.value)?lastValueWithNewFormat:this.formatValueProp(),numAsString=this.removeFormatting(formattedValue),floatValue=parseFloat(numAsString),lastFloatValue=parseFloat(lastNumStr);(isNaN(floatValue)&&isNaN(lastFloatValue)||floatValue===lastFloatValue)&&lastValueWithNewFormat===stateValue&&(null!==focusedElm||formattedValue===stateValue)||this.updateValue({formattedValue,numAsString,input:focusedElm,source:"prop",event:null})}},NumberFormat.prototype.getFloatString=function getFloatString(num){void 0===num&&(num="");var decimalScale=this.props.decimalScale,decimalSeparator=this.getSeparators().decimalSeparator,numRegex=this.getNumberRegex(!0),hasNegation="-"===num[0];hasNegation&&(num=num.replace("-","")),decimalSeparator&&0===decimalScale&&(num=num.split(decimalSeparator)[0]);var firstDecimalIndex=(num=(num.match(numRegex)||[]).join("").replace(decimalSeparator,".")).indexOf(".");return-1!==firstDecimalIndex&&(num=num.substring(0,firstDecimalIndex)+"."+num.substring(firstDecimalIndex+1,num.length).replace(new RegExp(escapeRegExp(decimalSeparator),"g"),"")),hasNegation&&(num="-"+num),num},NumberFormat.prototype.getNumberRegex=function getNumberRegex(g,ignoreDecimalSeparator){var ref=this.props,format=ref.format,decimalScale=ref.decimalScale,customNumerals=ref.customNumerals,decimalSeparator=this.getSeparators().decimalSeparator;return new RegExp("[0-9"+(customNumerals?customNumerals.join(""):"")+"]"+(!decimalSeparator||0===decimalScale||ignoreDecimalSeparator||format?"":"|"+escapeRegExp(decimalSeparator)),g?"g":void 0)},NumberFormat.prototype.getSeparators=function getSeparators(){var decimalSeparator=this.props.decimalSeparator,ref$1=this.props,thousandSeparator=ref$1.thousandSeparator,allowedDecimalSeparators=ref$1.allowedDecimalSeparators;return!0===thousandSeparator&&(thousandSeparator=","),allowedDecimalSeparators||(allowedDecimalSeparators=[decimalSeparator,"."]),{decimalSeparator,thousandSeparator,allowedDecimalSeparators}},NumberFormat.prototype.getMaskAtIndex=function getMaskAtIndex(index){var mask=this.props.mask;return void 0===mask&&(mask=" "),"string"==typeof mask?mask:mask[index]||" "},NumberFormat.prototype.getValueObject=function getValueObject(formattedValue,numAsString){var floatValue=parseFloat(numAsString);return{formattedValue,value:numAsString,floatValue:isNaN(floatValue)?void 0:floatValue}},NumberFormat.prototype.validateProps=function validateProps(){var mask=this.props.mask,ref$1=this.getSeparators(),decimalSeparator=ref$1.decimalSeparator,thousandSeparator=ref$1.thousandSeparator;if(decimalSeparator===thousandSeparator)throw new Error("\n          Decimal separator can't be same as thousand separator.\n          thousandSeparator: "+thousandSeparator+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+decimalSeparator+" (default value for decimalSeparator is .)\n       ");if(mask&&("string"===mask?mask:mask.toString()).match(/\d/g))throw new Error("\n          Mask "+mask+" should not contain numeric character;\n        ")},NumberFormat.prototype.setPatchedCaretPosition=function setPatchedCaretPosition(el,caretPos,currentValue){setCaretPosition(el,caretPos),this.caretPositionTimeout=setTimeout((function(){el.value===currentValue&&setCaretPosition(el,caretPos)}),0)},NumberFormat.prototype.correctCaretPosition=function correctCaretPosition(value,caretPos,direction){var ref=this.props,prefix=ref.prefix,suffix=ref.suffix,format=ref.format;if(""===value)return 0;if(caretPos=clamp(caretPos,0,value.length),!format){var hasNegation="-"===value[0];return clamp(caretPos,prefix.length+(hasNegation?1:0),value.length-suffix.length)}if("function"==typeof format)return caretPos;if("#"===format[caretPos]&&charIsNumber(value[caretPos]))return caretPos;if("#"===format[caretPos-1]&&charIsNumber(value[caretPos-1]))return caretPos;var firstHashPosition=format.indexOf("#");caretPos=clamp(caretPos,firstHashPosition,format.lastIndexOf("#")+1);for(var nextPos=format.substring(caretPos,format.length).indexOf("#"),caretLeftBound=caretPos,caretRightBound=caretPos+(-1===nextPos?0:nextPos);caretLeftBound>firstHashPosition&&("#"!==format[caretLeftBound]||!charIsNumber(value[caretLeftBound]));)caretLeftBound-=1;return!charIsNumber(value[caretRightBound])||"left"===direction&&caretPos!==firstHashPosition||caretPos-caretLeftBound<caretRightBound-caretPos?charIsNumber(value[caretLeftBound])?caretLeftBound+1:caretLeftBound:caretRightBound},NumberFormat.prototype.getCaretPosition=function getCaretPosition(inputValue,formattedValue,caretPos){var j,i,format=this.props.format,stateValue=this.state.value,numRegex=this.getNumberRegex(!0),inputNumber=(inputValue.match(numRegex)||[]).join(""),formattedNumber=(formattedValue.match(numRegex)||[]).join("");for(j=0,i=0;i<caretPos;i++){var currentInputChar=inputValue[i]||"",currentFormatChar=formattedValue[j]||"";if((currentInputChar.match(numRegex)||currentInputChar===currentFormatChar)&&("0"!==currentInputChar||!currentFormatChar.match(numRegex)||"0"===currentFormatChar||inputNumber.length===formattedNumber.length)){for(;currentInputChar!==formattedValue[j]&&j<formattedValue.length;)j++;j++}}return"string"!=typeof format||stateValue||(j=formattedValue.length),j=this.correctCaretPosition(formattedValue,j)},NumberFormat.prototype.removePrefixAndSuffix=function removePrefixAndSuffix(val){var ref=this.props,format=ref.format,prefix=ref.prefix,suffix=ref.suffix;if(!format&&val){var isNegative="-"===val[0];isNegative&&(val=val.substring(1,val.length));var suffixLastIndex=(val=prefix&&0===val.indexOf(prefix)?val.substring(prefix.length,val.length):val).lastIndexOf(suffix);val=suffix&&-1!==suffixLastIndex&&suffixLastIndex===val.length-suffix.length?val.substring(0,suffixLastIndex):val,isNegative&&(val="-"+val)}return val},NumberFormat.prototype.removePatternFormatting=function removePatternFormatting(val){for(var formatArray=this.props.format.split("#").filter((function(str){return""!==str})),start=0,numStr="",i=0,ln=formatArray.length;i<=ln;i++){var part=formatArray[i]||"",index=i===ln?val.length:val.indexOf(part,start);if(-1===index){numStr=val;break}numStr+=val.substring(start,index),start=index+part.length}return(numStr.match(this.getNumberRegex(!0))||[]).join("")},NumberFormat.prototype.removeFormatting=function removeFormatting(val){var ref=this.props,format=ref.format,removeFormatting=ref.removeFormatting;return val?(format?val="string"==typeof format?this.removePatternFormatting(val):"function"==typeof removeFormatting?removeFormatting(val):(val.match(this.getNumberRegex(!0))||[]).join(""):(val=this.removePrefixAndSuffix(val),val=this.getFloatString(val)),val):val},NumberFormat.prototype.formatWithPattern=function formatWithPattern(numStr){for(var format=this.props.format,hashCount=0,formattedNumberAry=format.split(""),i=0,ln=format.length;i<ln;i++)"#"===format[i]&&(formattedNumberAry[i]=numStr[hashCount]||this.getMaskAtIndex(hashCount),hashCount+=1);return formattedNumberAry.join("")},NumberFormat.prototype.formatAsNumber=function formatAsNumber(numStr){var ref=this.props,decimalScale=ref.decimalScale,fixedDecimalScale=ref.fixedDecimalScale,prefix=ref.prefix,suffix=ref.suffix,allowNegative=ref.allowNegative,thousandsGroupStyle=ref.thousandsGroupStyle,ref$1=this.getSeparators(),thousandSeparator=ref$1.thousandSeparator,decimalSeparator=ref$1.decimalSeparator,hasDecimalSeparator=-1!==numStr.indexOf(".")||decimalScale&&fixedDecimalScale,ref$2=splitDecimal(numStr,allowNegative),beforeDecimal=ref$2.beforeDecimal,afterDecimal=ref$2.afterDecimal,addNegation=ref$2.addNegation;return void 0!==decimalScale&&(afterDecimal=limitToScale(afterDecimal,decimalScale,fixedDecimalScale)),thousandSeparator&&(beforeDecimal=function applyThousandSeparator(str,thousandSeparator,thousandsGroupStyle){var thousandsGroupRegex=function getThousandsGroupRegex(thousandsGroupStyle){switch(thousandsGroupStyle){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}(thousandsGroupStyle),index=str.search(/[1-9]/);return index=-1===index?str.length:index,str.substring(0,index)+str.substring(index,str.length).replace(thousandsGroupRegex,"$1"+thousandSeparator)}(beforeDecimal,thousandSeparator,thousandsGroupStyle)),prefix&&(beforeDecimal=prefix+beforeDecimal),suffix&&(afterDecimal+=suffix),addNegation&&(beforeDecimal="-"+beforeDecimal),numStr=beforeDecimal+(hasDecimalSeparator&&decimalSeparator||"")+afterDecimal},NumberFormat.prototype.formatNumString=function formatNumString(numStr){void 0===numStr&&(numStr="");var ref=this.props,format=ref.format,allowEmptyFormatting=ref.allowEmptyFormatting,customNumerals=ref.customNumerals,formattedValue=numStr;if(customNumerals&&10===customNumerals.length){var customNumeralRegex=new RegExp("["+customNumerals.join("")+"]","g");formattedValue=numStr.replace(customNumeralRegex,(function(digit){return customNumerals.indexOf(digit).toString()}))}return formattedValue=""!==numStr||allowEmptyFormatting?"-"!==numStr||format?"string"==typeof format?this.formatWithPattern(formattedValue):"function"==typeof format?format(formattedValue):this.formatAsNumber(formattedValue):"-":""},NumberFormat.prototype.formatValueProp=function formatValueProp(defaultValue){var ref=this.props,format=ref.format,decimalScale=ref.decimalScale,fixedDecimalScale=ref.fixedDecimalScale,allowEmptyFormatting=ref.allowEmptyFormatting,ref$1=this.props,value=ref$1.value,isNumericString=ref$1.isNumericString,isNonNumericFalsy=!(value=isNil(value)?defaultValue:value)&&0!==value;return isNonNumericFalsy&&allowEmptyFormatting&&(value=""),isNonNumericFalsy&&!allowEmptyFormatting?"":("number"==typeof value&&(value=function toNumericString(num){var sign="-"===(num+="")[0]?"-":"";sign&&(num=num.substring(1));var ref=num.split(/[eE]/g),coefficient=ref[0],exponent=ref[1];if(!(exponent=Number(exponent)))return sign+coefficient;var decimalIndex=1+exponent,coffiecientLn=(coefficient=coefficient.replace(".","")).length;return decimalIndex<0?coefficient="0."+repeat("0",Math.abs(decimalIndex))+coefficient:decimalIndex>=coffiecientLn?coefficient+=repeat("0",decimalIndex-coffiecientLn):coefficient=(coefficient.substring(0,decimalIndex)||"0")+"."+coefficient.substring(decimalIndex),sign+coefficient}(value),isNumericString=!0),"Infinity"===value&&isNumericString&&(value=""),isNumericString&&!format&&"number"==typeof decimalScale&&(value=function roundToPrecision(numStr,scale,fixedDecimalScale){if(-1!==["","-"].indexOf(numStr))return numStr;var shoudHaveDecimalSeparator=-1!==numStr.indexOf(".")&&scale,ref=splitDecimal(numStr),beforeDecimal=ref.beforeDecimal,afterDecimal=ref.afterDecimal,hasNagation=ref.hasNagation,floatValue=parseFloat("0."+(afterDecimal||"0")),roundedDecimalParts=(afterDecimal.length<=scale?"0."+afterDecimal:floatValue.toFixed(scale)).split(".");return(hasNagation?"-":"")+beforeDecimal.split("").reverse().reduce((function(roundedStr,current,idx){return roundedStr.length>idx?(Number(roundedStr[0])+Number(current)).toString()+roundedStr.substring(1,roundedStr.length):current+roundedStr}),roundedDecimalParts[0])+(shoudHaveDecimalSeparator?".":"")+limitToScale(roundedDecimalParts[1]||"",Math.min(scale,afterDecimal.length),fixedDecimalScale)}(value,decimalScale,fixedDecimalScale)),isNumericString?this.formatNumString(value):this.formatInput(value))},NumberFormat.prototype.formatNegation=function formatNegation(value){void 0===value&&(value="");var allowNegative=this.props.allowNegative,negationRegex=new RegExp("(-)"),doubleNegationRegex=new RegExp("(-)(.)*(-)"),hasNegation=negationRegex.test(value),removeNegation=doubleNegationRegex.test(value);return value=value.replace(/-/g,""),hasNegation&&!removeNegation&&allowNegative&&(value="-"+value),value},NumberFormat.prototype.formatInput=function formatInput(value){return void 0===value&&(value=""),this.props.format||(value=this.removePrefixAndSuffix(value),value=this.formatNegation(value)),value=this.removeFormatting(value),this.formatNumString(value)},NumberFormat.prototype.isCharacterAFormat=function isCharacterAFormat(caretPos,value){var ref=this.props,format=ref.format,prefix=ref.prefix,suffix=ref.suffix,decimalScale=ref.decimalScale,fixedDecimalScale=ref.fixedDecimalScale,decimalSeparator=this.getSeparators().decimalSeparator;return"string"==typeof format&&"#"!==format[caretPos]||!(format||!(caretPos<prefix.length||caretPos>=value.length-suffix.length||decimalScale&&fixedDecimalScale&&value[caretPos]===decimalSeparator))},NumberFormat.prototype.correctInputValue=function correctInputValue(caretPos,lastValue,value){var this$1=this,ref=this.props,format=ref.format,allowNegative=ref.allowNegative,prefix=ref.prefix,suffix=ref.suffix,decimalScale=ref.decimalScale,ref$1=this.getSeparators(),allowedDecimalSeparators=ref$1.allowedDecimalSeparators,decimalSeparator=ref$1.decimalSeparator,lastNumStr=this.state.numAsString||"",ref$2=this.selectionBeforeInput,selectionStart=ref$2.selectionStart,selectionEnd=ref$2.selectionEnd,ref$3=function findChangedIndex(prevValue,newValue){for(var i=0,j=0,prevLength=prevValue.length,newLength=newValue.length;prevValue[i]===newValue[i]&&i<prevLength;)i++;for(;prevValue[prevLength-1-j]===newValue[newLength-1-j]&&newLength-j>i&&prevLength-j>i;)j++;return{start:i,end:prevLength-j}}(lastValue,value),start=ref$3.start,end=ref$3.end;if(!format&&start===end&&-1!==allowedDecimalSeparators.indexOf(value[selectionStart])){var separator=0===decimalScale?"":decimalSeparator;return value.substr(0,selectionStart)+separator+value.substr(selectionStart+1,value.length)}var leftBound=format?0:prefix.length,rightBound=lastValue.length-(format?0:suffix.length);if(value.length>lastValue.length||!value.length||start===end||0===selectionStart&&selectionEnd===lastValue.length||0===start&&end===lastValue.length||selectionStart===leftBound&&selectionEnd===rightBound)return value;var deletedValues=lastValue.substr(start,end-start);if(!![].concat(deletedValues).find((function(deletedVal,idx){return this$1.isCharacterAFormat(idx+start,lastValue)}))){var deletedValuePortion=lastValue.substr(start),recordIndexOfFormatCharacters={},resolvedPortion=[];[].concat(deletedValuePortion).forEach((function(currentPortion,idx){this$1.isCharacterAFormat(idx+start,lastValue)?recordIndexOfFormatCharacters[idx]=currentPortion:idx>deletedValues.length-1&&resolvedPortion.push(currentPortion)})),Object.keys(recordIndexOfFormatCharacters).forEach((function(idx){resolvedPortion.length>idx?resolvedPortion.splice(idx,0,recordIndexOfFormatCharacters[idx]):resolvedPortion.push(recordIndexOfFormatCharacters[idx])})),value=lastValue.substr(0,start)+resolvedPortion.join("")}if(!format){var numericString=this.removeFormatting(value),ref$4=splitDecimal(numericString,allowNegative),beforeDecimal=ref$4.beforeDecimal,afterDecimal=ref$4.afterDecimal,addNegation=ref$4.addNegation,isBeforeDecimalPoint=caretPos<value.indexOf(decimalSeparator)+1;if(numericString.length<lastNumStr.length&&isBeforeDecimalPoint&&""===beforeDecimal&&!parseFloat(afterDecimal))return addNegation?"-":""}return value},NumberFormat.prototype.updateValue=function updateValue(params){var formattedValue=params.formattedValue,input=params.input,setCaretPosition=params.setCaretPosition;void 0===setCaretPosition&&(setCaretPosition=!0);var source=params.source,event=params.event,numAsString=params.numAsString,caretPos=params.caretPos,onValueChange=this.props.onValueChange,lastValue=this.state.value;if(input){if(void 0===caretPos&&setCaretPosition){var inputValue=params.inputValue||input.value,currentCaretPosition=getCurrentCaretPosition(input);input.value=formattedValue,caretPos=this.getCaretPosition(inputValue,formattedValue,currentCaretPosition)}input.value=formattedValue,setCaretPosition&&this.setPatchedCaretPosition(input,caretPos,formattedValue)}void 0===numAsString&&(numAsString=this.removeFormatting(formattedValue)),formattedValue!==lastValue&&(this.setState({value:formattedValue,numAsString}),onValueChange(this.getValueObject(formattedValue,numAsString),{event,source}))},NumberFormat.prototype.onChange=function onChange(e){var el=e.target,inputValue=el.value,state=this.state,props=this.props,isAllowed=props.isAllowed,lastValue=state.value||"",currentCaretPosition=getCurrentCaretPosition(el);inputValue=this.correctInputValue(currentCaretPosition,lastValue,inputValue);var formattedValue=this.formatInput(inputValue)||"",numAsString=this.removeFormatting(formattedValue),isChangeAllowed=isAllowed(this.getValueObject(formattedValue,numAsString));isChangeAllowed||(formattedValue=lastValue),this.updateValue({formattedValue,numAsString,inputValue,input:el,event:e,source:"event"}),isChangeAllowed&&props.onChange(e)},NumberFormat.prototype.onBlur=function onBlur(e){var props=this.props,state=this.state,format=props.format,onBlur=props.onBlur,allowLeadingZeros=props.allowLeadingZeros,numAsString=state.numAsString,lastValue=state.value;if(this.focusedElm=null,clearTimeout(this.focusTimeout),clearTimeout(this.caretPositionTimeout),!format){isNaN(parseFloat(numAsString))&&(numAsString=""),allowLeadingZeros||(numAsString=function fixLeadingZero(numStr){if(!numStr)return numStr;var isNegative="-"===numStr[0];isNegative&&(numStr=numStr.substring(1,numStr.length));var parts=numStr.split("."),beforeDecimal=parts[0].replace(/^0+/,"")||"0",afterDecimal=parts[1]||"";return(isNegative?"-":"")+beforeDecimal+(afterDecimal?"."+afterDecimal:"")}(numAsString));var formattedValue=this.formatNumString(numAsString);if(formattedValue!==lastValue)return this.updateValue({formattedValue,numAsString,input:e.target,setCaretPosition:!1,event:e,source:"event"}),void onBlur(e)}onBlur(e)},NumberFormat.prototype.onKeyDown=function onKeyDown(e){var expectedCaretPosition,el=e.target,key=e.key,selectionStart=el.selectionStart,selectionEnd=el.selectionEnd,value=el.value;void 0===value&&(value="");var ref=this.props,decimalScale=ref.decimalScale,fixedDecimalScale=ref.fixedDecimalScale,prefix=ref.prefix,suffix=ref.suffix,format=ref.format,onKeyDown=ref.onKeyDown,ignoreDecimalSeparator=void 0!==decimalScale&&fixedDecimalScale,numRegex=this.getNumberRegex(!1,ignoreDecimalSeparator),negativeRegex=new RegExp("-"),isPatternFormat="string"==typeof format;if(this.selectionBeforeInput={selectionStart,selectionEnd},"ArrowLeft"===key||"Backspace"===key?expectedCaretPosition=selectionStart-1:"ArrowRight"===key?expectedCaretPosition=selectionStart+1:"Delete"===key&&(expectedCaretPosition=selectionStart),void 0!==expectedCaretPosition&&selectionStart===selectionEnd){var newCaretPosition=expectedCaretPosition,leftBound=isPatternFormat?format.indexOf("#"):prefix.length,rightBound=isPatternFormat?format.lastIndexOf("#")+1:value.length-suffix.length;if("ArrowLeft"===key||"ArrowRight"===key){var direction="ArrowLeft"===key?"left":"right";newCaretPosition=this.correctCaretPosition(value,expectedCaretPosition,direction)}else if("Delete"!==key||numRegex.test(value[expectedCaretPosition])||negativeRegex.test(value[expectedCaretPosition])){if("Backspace"===key&&!numRegex.test(value[expectedCaretPosition]))if(selectionStart<=leftBound+1&&"-"===value[0]&&void 0===format){var newValue=value.substring(1);this.updateValue({formattedValue:newValue,caretPos:newCaretPosition,input:el,event:e,source:"event"})}else if(!negativeRegex.test(value[expectedCaretPosition])){for(;!numRegex.test(value[newCaretPosition-1])&&newCaretPosition>leftBound;)newCaretPosition--;newCaretPosition=this.correctCaretPosition(value,newCaretPosition,"left")}}else for(;!numRegex.test(value[newCaretPosition])&&newCaretPosition<rightBound;)newCaretPosition++;(newCaretPosition!==expectedCaretPosition||expectedCaretPosition<leftBound||expectedCaretPosition>rightBound)&&(e.preventDefault(),this.setPatchedCaretPosition(el,newCaretPosition,value)),e.isUnitTestRun&&this.setPatchedCaretPosition(el,newCaretPosition,value),onKeyDown(e)}else onKeyDown(e)},NumberFormat.prototype.onMouseUp=function onMouseUp(e){var el=e.target,selectionStart=el.selectionStart,selectionEnd=el.selectionEnd,value=el.value;if(void 0===value&&(value=""),selectionStart===selectionEnd){var caretPosition=this.correctCaretPosition(value,selectionStart);caretPosition!==selectionStart&&this.setPatchedCaretPosition(el,caretPosition,value)}this.props.onMouseUp(e)},NumberFormat.prototype.onFocus=function onFocus(e){var this$1=this;e.persist(),this.focusedElm=e.target,this.focusTimeout=setTimeout((function(){var el=e.target,selectionStart=el.selectionStart,selectionEnd=el.selectionEnd,value=el.value;void 0===value&&(value="");var caretPosition=this$1.correctCaretPosition(value,selectionStart);caretPosition===selectionStart||0===selectionStart&&selectionEnd===value.length||this$1.setPatchedCaretPosition(el,caretPosition,value),this$1.props.onFocus(e)}),0)},NumberFormat.prototype.render=function render(){var ref=this.props,type=ref.type,displayType=ref.displayType,customInput=ref.customInput,renderText=ref.renderText,getInputRef=ref.getInputRef,format=ref.format,otherProps=(ref.thousandSeparator,ref.decimalSeparator,ref.allowedDecimalSeparators,ref.thousandsGroupStyle,ref.decimalScale,ref.fixedDecimalScale,ref.prefix,ref.suffix,ref.removeFormatting,ref.mask,ref.defaultValue,ref.isNumericString,ref.allowNegative,ref.allowEmptyFormatting,ref.allowLeadingZeros,ref.onValueChange,ref.isAllowed,ref.customNumerals,ref.onChange,ref.onKeyDown,ref.onMouseUp,ref.onFocus,ref.onBlur,ref.value,function objectWithoutProperties(obj,exclude){var target={};for(var k in obj)Object.prototype.hasOwnProperty.call(obj,k)&&-1===exclude.indexOf(k)&&(target[k]=obj[k]);return target}(ref,["type","displayType","customInput","renderText","getInputRef","format","thousandSeparator","decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","decimalScale","fixedDecimalScale","prefix","suffix","removeFormatting","mask","defaultValue","isNumericString","allowNegative","allowEmptyFormatting","allowLeadingZeros","onValueChange","isAllowed","customNumerals","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value"])),ref$1=this.state,value=ref$1.value,inputMode=ref$1.mounted&&function addInputMode(format){return format||"undefined"!=typeof navigator&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}(format)?"numeric":void 0,inputProps=Object.assign({inputMode},otherProps,{type,value,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===displayType)return renderText?renderText(value,otherProps)||null:react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",Object.assign({},otherProps,{ref:getInputRef}),value);if(customInput){var CustomInput=customInput;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(CustomInput,Object.assign({},inputProps,{ref:getInputRef}))}return react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",Object.assign({},inputProps,{ref:getInputRef}))},NumberFormat}(react__WEBPACK_IMPORTED_MODULE_0__.Component);NumberFormat.defaultProps=defaultProps;const __WEBPACK_DEFAULT_EXPORT__=NumberFormat}}]);